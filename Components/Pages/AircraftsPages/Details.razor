@page "/Aeronaves/Details/{AeronavesId:int}"
@rendermode InteractiveServer
@inject AeronaveService aeronaveService
@inject NavigationManager navigation

<PageTitle> Detalles del aeronave </PageTitle>
<div class="container">
    <div class="card shadow-lg"></div>

    @*Header*@
    <div class="card-header bg-primary text-white">
        <h3><strong>Detalles aeronave</strong></h3>
    </div>

    @*Body*@
    <div class="card-body">
        @if (aeronaves != null)
        {
            <div class="mb-1">
                <p class="mb-0"> <strong>Aeronave ID:</strong>@aeronaves.AeronavesId</p>
            </div>
            <div class="mb-1">
                <p class="mb-0"> <strong>Fecha de registro:</strong> @aeronaves.Fecha.ToShortDateString()</p>
            </div>
            <div class="mb-1">
                <p class="mb-0"><strong>Identificador:</strong> @aeronaves.Identificador</p>
            </div>
            <div class="mb-1">
                <p class="mb-0"><strong>Tipo aeronave:</strong> @aeronaves.TipoAeronave</p>
            </div>
            <div class="mb-1">
                <p class="mb-0"><strong>Aerolinea:</strong>@aeronaves.Aerolinea</p>
            </div>
            <div class="mb-1">
                <p class="mb-0"><strong>Matricula:</strong> @aeronaves.Matricula</p>
            </div>
            <div class="mb-1">
                <p class="mb-0"><strong>Ruta:</strong>@aeronaves.ruta</p>
            </div>

            @* Imagen debajo de la ruta *@
            @if (aeronaves.Imagen != null)
            {
                <div class="mt-3 text-center">
                    <img src="data:image/png;base64,@Convert.ToBase64String(aeronaves.Imagen)"
                         alt="Imagen Aeronave"
                         class="img-fluid img-thumbnail"
                         style="max-height: 300px;" />
                </div>
            } 
        }
    </div>

    @*Footer*@
    <div class="card-footer">
        <button type="submit" class="btn btn-info text-white bi bi-arrow-90deg-left" @onclick="Volver"> Volver</button>
    </div>
</div>

@code {
    [Parameter]
    public int AeronavesId { get; set; }

    public Aeronaves aeronaves { get; set; }

    protected override async Task OnInitializedAsync()
    {
        aeronaves = await aeronaveService.Buscar(AeronavesId);
    }

    public void Volver()
    {
        navigation.NavigateTo("/Aeronaves/Index");
    }
}
